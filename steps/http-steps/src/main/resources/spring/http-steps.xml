<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="
           http://www.springframework.org/schema/beans    http://www.springframework.org/schema/beans/spring-beans.xsd
       ">

    <import resource="classpath:/spring_common-json-diff.xml" />
    <import resource="classpath:/spring/spring_resource-manager.xml" />

    <bean id="httpMockService" class="http_support.HttpMockService">
        <constructor-arg name="jsonComparer" ref="commonJsonDiff:jsonComparer"/>
    </bean>

    <!-- todo: break dependency with service -->
    <bean id="httpClientService" class="com.testerum.service.resources.http.HttpClientService">
        <constructor-arg name="httpClient" ref="httpClient" />
    </bean>

    <bean id="httpRequestTransformer" class="http.request.transformer.HttpRequestTransformer">
        <constructor-arg name="objectMapper"    ref="resourceJsonObjectMapper" />
        <constructor-arg name="testVariables"   ref="testerum.testVariables" />
    </bean>

    <bean id="httpResponseVerifyTransformer" class="http.response.verify.transformer.HttpResponseVerifyTransformer">
        <constructor-arg name="objectMapper"    ref="resourceJsonObjectMapper" />
        <constructor-arg name="testVariables"   ref="testerum.testVariables" />
    </bean>

    <bean id="httpMockServerTransformer" class="http.mock.transformer.HttpMockServerTransformer">
        <constructor-arg name="objectMapper"  ref="resourceJsonObjectMapper" />
        <constructor-arg name="testVariables" ref="testerum.testVariables" />
    </bean>

    <bean id="httpMockTransformer" class="http.mock.transformer.HttpMockTransformer">
        <constructor-arg name="objectMapper"    ref="resourceJsonObjectMapper" />
        <constructor-arg name="testVariables"   ref="testerum.testVariables" />
    </bean>

</beans>