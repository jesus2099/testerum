
<div>
    <h1>Feature <span class="path">{{pathForTitle}}</span></h1>

    <div class="panel-body">
        <form #form="ngForm" class="form-horizontal">

            <div class="form-group row">
                <label class="col-md-1 control-label col-form-label" for="featureName">Name</label>

                <div class="col-md-11 form-value" *ngIf="!isEditMode">
                    {{model.name || ""}}
                </div>
                <div class="col-md-10" *ngIf="isEditMode">
                    <input id="featureName" required
                           #featureName="ngModel" [(ngModel)]="model.name"
                           type="text" class="form-control" name="featureName">
                    <div *ngIf="featureName.errors && (featureName.dirty || featureName.touched)"
                         class="alert alert-danger">
                        <div [hidden]="!featureName.errors.required">
                            Name is required
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group row">
                <label class="col-md-1 control-label" for="description">Description</label>

                <div class="col-md-11">
                    <markdown-editor #markdownEditor
                                     [value]="model.description"
                                     [options]="markdownEditorOptions"
                                     id="description"></markdown-editor>
                </div>
            </div>


            <div class="form-group row" *ngIf="isEditMode || model.attachments.length > 0">
                <label class="col-md-1 control-label" for="description">Attachments</label>

                <div class="col-md-11">
                    <attachments-component [url]="getFeatureUploadUrl()"
                                           [attachments]="model.attachments"
                                           [editMode]="isEditMode"></attachments-component>
                </div>
            </div>

            <div class="panel-footer-button">
                <ng-container *ngIf="!isEditMode">
                    <button (click)="enableEditTestMode();" class="btn btn-primary">Edit</button>
                </ng-container>
                <ng-container *ngIf="isEditMode">
                    <button (click)="cancelAction();" type="button" class="btn btn-default">Cancel</button>
                    <button *ngIf="!isCreateAction" (click)="deleteAction();$event.stopPropagation();" type="button" class="btn btn-danger">Delete</button>
                    <button [disabled]="!form.form.valid" (click)="saveAction();$event.stopPropagation();" class="btn btn-primary">Save</button>
                </ng-container>
            </div>
        </form>
    </div>
</div>
